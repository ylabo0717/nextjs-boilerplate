# Docker FAQ - ã‚ˆãã‚ã‚‹è³ªå•

## ğŸ¤” ä¸€èˆ¬çš„ãªè³ªå•

### Q1: Dockerã‚’ä½¿ã†ç†ç”±ã¯ï¼Ÿ

**A:** ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Dockerã‚’ä½¿ç”¨ã™ã‚‹ç†ç”±ï¼š

- **ç’°å¢ƒçµ±ä¸€**: é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆãƒ»æœ¬ç•ªã§åŒã˜ç’°å¢ƒã‚’ä½¿ç”¨
- **ä¾å­˜é–¢ä¿‚ã®åˆ†é›¢**: Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„ã‚·ã‚¹ãƒ†ãƒ ä¾å­˜é–¢ä¿‚ã®ç®¡ç†
- **CI/CDã®ä¿¡é ¼æ€§**: ãƒ†ã‚¹ãƒˆç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒã®ä¸€è‡´
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: ã‚³ãƒ³ãƒ†ãƒŠã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®æ‹¡å¼µæ€§
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: åˆ†é›¢ã•ã‚ŒãŸãƒ—ãƒ­ã‚»ã‚¹å®Ÿè¡Œç’°å¢ƒ

### Q2: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã§ã‚‚Dockerã‚’ä½¿ã†ã¹ãï¼Ÿ

**A:** ç”¨é€”ã«ã‚ˆã£ã¦ä½¿ã„åˆ†ã‘ã‚’æ¨å¥¨ï¼š

**ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆæ¨å¥¨ï¼‰:**

```bash
pnpm dev  # é«˜é€ŸãªHMRã€ãƒ‡ãƒãƒƒã‚°ãŒç°¡å˜
```

**Dockeré–‹ç™ºï¼ˆç‰¹å®šã‚±ãƒ¼ã‚¹ï¼‰:**

```bash
docker compose up  # æœ¬ç•ªç’°å¢ƒã«è¿‘ã„æ¤œè¨¼ã€ä¾å­˜é–¢ä¿‚ã®å•é¡Œèª¿æŸ»
```

**ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆDockeræ¨å¥¨ï¼‰:**

```bash
pnpm docker:test  # CI/CDã¨åŒã˜ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆ
```

### Q3: ãªãœNode.js 22ã«æ›´æ–°ã—ãŸã®ï¼Ÿ

**A:** Phase 5ã®æœ€é©åŒ–ã§ä»¥ä¸‹ã®ç†ç”±ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆï¼š

- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š**: V8ã‚¨ãƒ³ã‚¸ãƒ³ã®æœ€æ–°ç‰ˆã«ã‚ˆã‚‹é«˜é€ŸåŒ–
- **ESModuleã‚µãƒãƒ¼ãƒˆæ”¹å–„**: Vitest 3ã¨ã®äº’æ›æ€§å‘ä¸Š
- **Alpine 3.21å¯¾å¿œ**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
- **pnpm 10.3.0å¯¾å¿œ**: ä¾å­˜é–¢ä¿‚è§£æ±ºã®æœ€é©åŒ–

## ğŸ”§ é–‹ç™ºç’°å¢ƒã®è³ªå•

### Q4: Dockeré–‹ç™ºç’°å¢ƒã§ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãŒé…ã„

**A:** ä»¥ä¸‹ã‚’ç¢ºèªãƒ»å®Ÿè¡Œï¼š

```bash
# 1. ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã®æœ€é©åŒ–ï¼ˆmacOS/Windowsï¼‰
# docker-compose.override.yml ã§delegated mountä½¿ç”¨
volumes:
  - .:/app:delegated

# 2. .dockerignoreã®ç¢ºèª
# ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆnode_modules, .gitï¼‰ãŒé™¤å¤–ã•ã‚Œã¦ã„ã‚‹ã‹

# 3. ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã®ç¢ºèª
# Docker Desktopãƒ¡ãƒ¢ãƒª: æœ€ä½4GBæ¨å¥¨

# 4. Turbopackä½¿ç”¨ç¢ºèª
# package.json: "dev": "next dev --turbopack"
```

### Q5: ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†æ–¹æ³•ã¯ï¼Ÿ

**A:** ç’°å¢ƒåˆ¥ã«é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ï¼š

```bash
# é–‹ç™ºç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
.env.local          # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼ˆGité™¤å¤–ï¼‰
.env.development    # é–‹ç™ºç’°å¢ƒå…±é€š

# ãƒ†ã‚¹ãƒˆç’°å¢ƒ
.env.test          # ãƒ†ã‚¹ãƒˆå°‚ç”¨ç’°å¢ƒå¤‰æ•°

# æœ¬ç•ªç’°å¢ƒ
.env.prod          # æœ¬ç•ªç’°å¢ƒç”¨ï¼ˆè¦ä½œæˆã€Gité™¤å¤–ï¼‰
.env.prod.example  # æœ¬ç•ªç’°å¢ƒãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

# Docker Compose
# è‡ªå‹•èª­ã¿è¾¼ã¿å„ªå…ˆé †ä½ï¼š
# .env.local > .env.development > .env
```

### Q6: VSCodeã§Dockerå†…ã®ãƒ‡ãƒãƒƒã‚°ã¯å¯èƒ½ï¼Ÿ

**A:** å¯èƒ½ã§ã™ã€‚è¨­å®šä¾‹ï¼š

**.vscode/launch.json:**

```json
{
  "type": "node",
  "request": "attach",
  "name": "Docker: Attach to Node",
  "port": 9229,
  "address": "localhost",
  "localRoot": "${workspaceFolder}",
  "remoteRoot": "/app",
  "protocol": "inspector"
}
```

**èµ·å‹•æ–¹æ³•:**

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒˆä»˜ãã§èµ·å‹•
docker compose up  # ãƒãƒ¼ãƒˆ9229ãŒè‡ªå‹•å…¬é–‹

# VSCodeã§Attachãƒ‡ãƒãƒƒã‚°ã‚’å®Ÿè¡Œ
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆç’°å¢ƒã®è³ªå•

### Q7: Docker ãƒ†ã‚¹ãƒˆãŒãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã‚ˆã‚Šé…ã„ç†ç”±

**A:** ä»¥ä¸‹ã®è¦å› ãŒã‚ã‚Šã¾ã™ï¼š

- **ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚é–“**: ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒ«ãƒ»ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ **: Docker volumeã®I/Oã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰
- **ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™**: ãƒ¡ãƒ¢ãƒªãƒ»CPUåˆ¶é™ã«ã‚ˆã‚‹å®Ÿè¡Œæ™‚é–“å¢—åŠ 

**æ”¹å–„æ–¹æ³•:**

```bash
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨
docker compose -f docker-compose.test.yml build --parallel

# éƒ¨åˆ†ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm docker:test:unit  # å˜ä½“ãƒ†ã‚¹ãƒˆã®ã¿

# ãƒ­ãƒ¼ã‚«ãƒ«é«˜é€Ÿãƒ†ã‚¹ãƒˆâ†’Dockeræœ€çµ‚ç¢ºèªã®æµã‚Œ
pnpm test              # é–‹ç™ºæ™‚
pnpm docker:test       # å®Œæˆæ™‚ç¢ºèª
```

### Q8: Integration ãƒ†ã‚¹ãƒˆã§2ä»¶å¤±æ•—ã™ã‚‹ç†ç”±

**A:** Docker-in-Dockerç’°å¢ƒã®åˆ¶ç´„ã«ã‚ˆã‚Šã€Testcontainersä¾å­˜ã®Lokié–¢é€£ãƒ†ã‚¹ãƒˆ2ä»¶ãŒå¤±æ•—ã—ã¾ã™ï¼š

**å›é¿æ–¹æ³•:**

```bash
# Lokiãƒ†ã‚¹ãƒˆã‚’ã‚¹ã‚­ãƒƒãƒ—
SKIP_LOKI_TESTS=true pnpm docker:test:integration

# ã¾ãŸã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§Lokiãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
pnpm test:integration
```

**ç†è§£ã™ã¹ããƒã‚¤ãƒ³ãƒˆ:**

- ã“ã®åˆ¶ç´„ã¯æŠ€è¡“çš„é™ç•Œã§ã‚ã‚Šã€å®Ÿè£…ã®å•é¡Œã§ã¯ãªã„
- 98.9%ã®ãƒ†ã‚¹ãƒˆæˆåŠŸã¯ååˆ†ã«é«˜ã„å“è³ªæ°´æº–
- æœ¬ç•ªç’°å¢ƒã§ã¯å•é¡Œãªãå‹•ä½œã™ã‚‹

### Q9: E2E ãƒ†ã‚¹ãƒˆã§ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãŒä¿å­˜ã•ã‚Œãªã„

**A:** volumeè¨­å®šã‚’ç¢ºèªï¼š

```yaml
# docker-compose.test.yml
playwright:
  volumes:
    - ./test-results:/app/test-results
    - ./playwright-report:/app/playwright-report
```

**æ¨©é™å•é¡Œã®è§£æ±º:**

```bash
# æ¨©é™è¨­å®š
chmod -R 755 test-results playwright-report

# ã¾ãŸã¯ã€æ‰€æœ‰è€…å¤‰æ›´
sudo chown -R $(whoami) test-results playwright-report
```

## ğŸš€ æœ¬ç•ªç’°å¢ƒã®è³ªå•

### Q10: æœ¬ç•ªç’°å¢ƒã§ã®ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡ã¯ï¼Ÿ

**A:** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§ã®ãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»ï¼š

```yaml
app: 1GB RAM, 0.5 CPU
proxy: 256MB RAM, 0.25 CPU
loki: 512MB RAM, 0.25 CPU
grafana: 256MB RAM, 0.25 CPU
promtail: 128MB RAM, 0.1 CPU
```

**åˆè¨ˆ: ç´„2.2GB RAM, 1.35 CPU**

**èª¿æ•´æ–¹æ³•:**

```bash
# .env.prodã§èª¿æ•´
APP_MEMORY_LIMIT=2g
APP_CPU_LIMIT=1.0

# ã¾ãŸã¯docker-compose.prod.ymlã§ç›´æ¥ç·¨é›†
```

### Q11: HTTPSãŒå¿…è¦ãªå ´åˆã¯ï¼Ÿ

**A:** Nginxè¨­å®šã‚’èª¿æ•´ï¼š

```bash
# 1. SSLè¨¼æ˜æ›¸ã®æº–å‚™
# Let's Encryptã€è‡ªå·±ç½²åã€ã¾ãŸã¯å•†ç”¨è¨¼æ˜æ›¸

# 2. nginxè¨­å®šã®æ›´æ–°
# docker/nginx/ssl.nginx.conf ã‚’æœ‰åŠ¹åŒ–

# 3. ãƒãƒ¼ãƒˆè¨­å®š
# docker-compose.prod.yml ã®443ãƒãƒ¼ãƒˆã‚’å…¬é–‹

# 4. ç’°å¢ƒå¤‰æ•°è¨­å®š
PROXY_SSL_PORT=443
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem
```

### Q12: ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—ã®æ–¹æ³•ã¯ï¼Ÿ

**A:** Docker Composeã§ã®åŸºæœ¬çš„ãªã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼š

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’3ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¢—åŠ 
docker compose -f docker-compose.prod.yml up --scale app=3

# è² è·åˆ†æ•£ã®ç¢ºèª
curl http://localhost:8080  # NginxãŒãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ãƒ“ãƒ³
```

**ã•ã‚‰ãªã‚‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«ã¯:**

- **Kubernetes**: æœ¬æ ¼çš„ãªã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **Docker Swarm**: è»½é‡ãªã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
- **Load Balancer**: å¤–éƒ¨ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼

## ğŸ” ç›£è¦–ãƒ»ãƒ­ã‚°ã®è³ªå•

### Q13: Grafanaãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„

**A:** ç¢ºèªäº‹é …ï¼š

```bash
# 1. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
echo "GRAFANA_ADMIN_PASSWORD=your-password" >> .env.prod

# 2. ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ç¢ºèª
docker compose -f docker-compose.prod.yml ps grafana

# 3. ãƒ­ã‚°ã®ç¢ºèª
docker compose -f docker-compose.prod.yml logs grafana

# 4. ãƒãƒ¼ãƒˆã®ç¢ºèª
curl http://localhost:3001

# 5. åˆæœŸåŒ–ã®å®Œäº†å¾…æ©Ÿ
# åˆå›èµ·å‹•æ™‚ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–ã«æ™‚é–“ãŒã‹ã‹ã‚‹
```

### Q14: ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œãªã„ãƒ»è¦‹ã¤ã‹ã‚‰ãªã„

**A:** ãƒ­ã‚°å‡ºåŠ›å…ˆã®ç¢ºèªï¼š

```bash
# Docker Composeãƒ­ã‚°
docker compose -f docker-compose.prod.yml logs -f app

# JSONå½¢å¼ã®ãƒ­ã‚°ï¼ˆLokiã¸é€ä¿¡ï¼‰
docker compose -f docker-compose.prod.yml exec promtail cat /var/log/containers/*.log

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°
docker compose -f docker-compose.prod.yml exec app cat /app/.next/trace

# Nginx ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°
docker compose -f docker-compose.prod.yml exec proxy cat /var/log/nginx/access.log
```

### Q15: ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œãªã„

**A:** OpenTelemetryãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèªï¼š

```bash
# 1. ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¢ºèª
curl http://localhost:8080/api/metrics

# 2. Prometheusãƒ¡ãƒˆãƒªã‚¯ã‚¹ç¢ºèªï¼ˆãƒãƒ¼ãƒˆ9464ï¼‰
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…éƒ¨ã§ã®ç¢ºèªãŒå¿…è¦

# 3. Grafanaã§ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹è¨­å®šç¢ºèª
# http://localhost:3001 â†’ Configuration â†’ Data Sources

# 4. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ã‚¯ã‚¨ãƒªç¢ºèª
# Grafanaã§ãƒ¡ãƒˆãƒªã‚¯ã‚¹åãƒ»ãƒ©ãƒ™ãƒ«ã®ç¢ºèª
```

## ğŸ’¡ æœ€é©åŒ–ã®è³ªå•

### Q16: ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã—ãŸã„

**A:** æœ€é©åŒ–æ‰‹é †ï¼š

```bash
# 1. Dockerã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ€å¤§æ´»ç”¨
docker compose build --parallel

# 2. ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥
docker build --target deps .
docker build --cache-from=deps .

# 3. pnpmã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ°¸ç¶šåŒ–
# æ—¢ã«Dockerfileã§è¨­å®šæ¸ˆã¿ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¦ãƒ³ãƒˆï¼‰

# 4. ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®é™¤å¤–
# .dockerignore ã®ç¢ºèªãƒ»æœ€é©åŒ–

# 5. æ®µéšçš„ãƒ“ãƒ«ãƒ‰
docker compose build base deps  # åŸºç›¤ã®ã¿
docker compose build app        # ã‚¢ãƒ—ãƒªã®ã¿
```

### Q17: ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã‚’å‰Šæ¸›ã—ãŸã„

**A:** ã‚µã‚¤ã‚ºæœ€é©åŒ–ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼š

```bash
# ç¾åœ¨ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºç¢ºèª
docker images | grep nextjs-boilerplate

# æœ€é©åŒ–è¦ç´ ï¼ˆæ—¢ã«é©ç”¨æ¸ˆã¿ï¼‰ï¼š
# âœ… Alpine Linux base image
# âœ… Multi-stage build
# âœ… pnpm prune --production
# âœ… standalone build output
# âœ… ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®é™¤å¤–

# è¿½åŠ æœ€é©åŒ–ï¼š
# 1. åŸºç›¤ã‚¤ãƒ¡ãƒ¼ã‚¸ã®é¸æŠ
FROM node:22-alpine3.21  # æ—¢ã«æœ€è»½é‡ç‰ˆã‚’ä½¿ç”¨

# 2. ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±åˆ
RUN command1 && command2 && command3

# 3. ãƒ“ãƒ«ãƒ‰æ™‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
RUN npm cache clean --force
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è³ªå•

### Q18: æœ¬ç•ªç’°å¢ƒã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯å¤§ä¸ˆå¤«ï¼Ÿ

**A:** å®Ÿè£…æ¸ˆã¿ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ï¼š

- **érootãƒ¦ãƒ¼ã‚¶ãƒ¼å®Ÿè¡Œ**: nextjs:nodejsï¼ˆUID/GID: 1001ï¼‰
- **ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™**: ãƒ¡ãƒ¢ãƒªãƒ»CPUåˆ¶é™ã§DoSæ”»æ’ƒå¯¾ç­–
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†é›¢**: app-network, monitoring-network
- **æœ€å°æ¨©é™åŸå‰‡**: å¿…è¦æœ€å°é™ã®ãƒãƒ¼ãƒˆå…¬é–‹
- **ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡åˆ¶é™
- **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**: ã‚µãƒ¼ãƒ“ã‚¹ç›£è¦–

**è¿½åŠ æ¨å¥¨è¨­å®š:**

```bash
# 1. ç’°å¢ƒå¤‰æ•°ã®æš—å·åŒ–
# Docker Secrets ã¾ãŸã¯å¤–éƒ¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†

# 2. TLS/SSLè¨­å®š
# HTTPSè¨¼æ˜æ›¸ã®è¨­å®š

# 3. ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
# iptables ã¾ãŸã¯ cloud provider firewall

# 4. ãƒ­ã‚°ç›£è¦–
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ­ã‚°ã®ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
```

### Q19: é–‹ç™ºç’°å¢ƒã§ç§˜å¯†æƒ…å ±ã‚’æ‰±ã†ã«ã¯ï¼Ÿ

**A:** å®‰å…¨ãªç§˜å¯†æƒ…å ±ç®¡ç†ï¼š

```bash
# 1. .env.localä½¿ç”¨ï¼ˆGité™¤å¤–ï¼‰
echo "SECRET_KEY=dev-only-secret" >> .env.local

# 2. Docker secretsä½¿ç”¨
echo "production-secret" | docker secret create api_key -
# docker-compose.prod.yml ã§ secretsè¨­å®š

# 3. å¤–éƒ¨ç®¡ç†ãƒ„ãƒ¼ãƒ«
# HashiCorp Vault, AWS Secrets Managerç­‰

# 4. é–‹ç™ºç”¨ãƒ€ãƒŸãƒ¼å€¤ã®ä½¿ç”¨
# æœ¬ç•ªã¨é–‹ç™ºã§ç•°ãªã‚‹ç„¡å®³ãªå€¤ã‚’è¨­å®š
```

## ğŸ“š å­¦ç¿’ãƒ»å‚è€ƒè³‡æ–™

### Q20: Docker Composeã‚’ã‚‚ã£ã¨å­¦ã¶ã«ã¯ï¼Ÿ

**A:** æ¨å¥¨å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ï¼š

**å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ:**

- [Docker Compose Specification](https://compose-spec.io/)
- [Docker Best Practices](https://docs.docker.com/develop/dev-best-practices/)

**ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å®Ÿè£…ä¾‹:**

- `docker-compose.yml` - åŸºæœ¬è¨­å®š
- `docker-compose.prod.yml` - æœ¬ç•ªç’°å¢ƒè¨­å®š
- `docker-compose.test.yml` - ãƒ†ã‚¹ãƒˆç’°å¢ƒè¨­å®š

**è¿½åŠ å­¦ç¿’é …ç›®:**

- Kubernetesï¼ˆæœ¬æ ¼çš„ãªã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- Docker Swarmï¼ˆè»½é‡ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ï¼‰
- Container securityï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼‰

---

ä»–ã«è³ªå•ãŒã‚ã‚‹å ´åˆã¯ã€[GitHub Issues](https://github.com/yourusername/nextjs-boilerplate/issues)ã§é æ…®ãªããŠèããã ã•ã„ï¼
