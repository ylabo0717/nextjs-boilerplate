# Docker Composeå®Ÿè£…è¨ˆç”»

## 1. å®Ÿè£…æ¦‚è¦

### 1.1 ç›®æ¨™

æ—¢å­˜ã®Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Œå…¨ã«Docker ComposeåŒ–ã—ã€é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆãƒ»æœ¬ç•ªã®ã™ã¹ã¦ã®ç’°å¢ƒã§ã‚³ãƒ³ãƒ†ãƒŠãƒ™ãƒ¼ã‚¹ã®é‹ç”¨ã‚’å®Ÿç¾ã™ã‚‹ã€‚

### 1.2 çµ‚äº†æ¡ä»¶

- Docker Composeç’°å¢ƒã§Unit Testsã€Integration Testsã€E2E TestsãŒã™ã¹ã¦ãƒ‘ã‚¹
- æ—¢å­˜ã®Lokiçµ±åˆãƒ†ã‚¹ãƒˆãŒæ­£å¸¸å‹•ä½œ
- é–‹ç™ºä½“é¨“ã®å‘ä¸Šï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã€ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ç¶­æŒï¼‰

### 1.3 ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œã«ã‚ˆã‚‹å®Ÿè£…é †åºå¤‰æ›´

**ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœ**: 10é …ç›®ã®ãƒ–ãƒ­ãƒƒã‚«ãƒ¼äº‹é …ãŒç‰¹å®šã•ã‚Œã€å®Ÿè£…ç€æ‰‹å‰ã®è§£æ¶ˆãŒå¿…è¦

**Phaseç•ªå·æ•´ç†æ¸ˆã¿å®Ÿè£…é †åº**:

```
âœ… Phase 0: å‰ææ¡ä»¶æ•´å‚™ â†’ ãƒ–ãƒ­ãƒƒã‚«ãƒ¼è§£æ¶ˆï¼ˆå®Œäº†ï¼‰
âœ… Phase 1: OpenTelemetryãƒ¡ãƒˆãƒªã‚¯ã‚¹çµ±åˆ â†’ é‹ç”¨åŸºç›¤å¼·åŒ–ï¼ˆå®Œäº†ï¼‰
âœ… Phase 2: DockeråŸºç›¤æ§‹ç¯‰ â†’ ã‚³ãƒ³ãƒ†ãƒŠåŒ–å®Ÿè£…ï¼ˆå®Œäº†ï¼‰
ğŸ“‹ Phase 3: ãƒ†ã‚¹ãƒˆç’°å¢ƒçµ±åˆ â†’ ã‚³ãƒ³ãƒ†ãƒŠåŒ–ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
ğŸ“‹ Phase 4: æœ¬ç•ªç’°å¢ƒå¯¾å¿œ â†’ æœ¬ç•ªé‹ç”¨å¯¾å¿œ
ğŸ“‹ Phase 5: æœ€é©åŒ–ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ– â†’ é‹ç”¨å®Œæˆ
```

**Phaseç•ªå·å¤‰æ›´ãƒãƒƒãƒ”ãƒ³ã‚°**:
| æ—§Phase | æ–°Phase | ãƒ•ã‚§ãƒ¼ã‚ºå | çŠ¶æ…‹ |
|---------|---------|------------|------|
| Phase 0 | Phase 0 | å‰ææ¡ä»¶æ•´å‚™ | âœ… å®Œäº† |
| - | Phase 1 | OpenTelemetryãƒ¡ãƒˆãƒªã‚¯ã‚¹çµ±åˆ | âœ… å®Œäº† |
| Phase 1 | Phase 2 | DockeråŸºç›¤æ§‹ç¯‰ | âœ… å®Œäº† |
| Phase 2 | Phase 3 | ãƒ†ã‚¹ãƒˆç’°å¢ƒçµ±åˆ | ğŸ“‹ æ¬¡ã®å®Ÿè£…å¯¾è±¡ |
| Phase 3 | Phase 4 | æœ¬ç•ªç’°å¢ƒå¯¾å¿œ | ğŸ“‹ è¨ˆç”»æ¸ˆã¿ |
| Phase 4 | Phase 5 | æœ€é©åŒ–ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ– | ğŸ“‹ è¨ˆç”»æ¸ˆã¿ |

## 2. å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 0: å‰ææ¡ä»¶æ•´å‚™ï¼ˆWeek 1ï¼‰ âœ… **å®Œäº†**

#### 0.1 ãƒ–ãƒ­ãƒƒã‚«ãƒ¼äº‹é …è§£æ¶ˆ

**0.1.1 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«ä¿®æ­£** âœ… **å®Œäº†**

```typescript
// src/app/api/health/route.tsï¼ˆå®Ÿè£…å®Œäº†ï¼‰
import { NextResponse } from 'next/server';

/**
 * Health check endpoint for Docker health checks and monitoring systems.
 *
 * Returns a simple JSON response indicating service health status.
 * This endpoint is designed to be lightweight and fast for monitoring purposes.
 *
 * @returns Promise resolving to NextResponse with health status
 */
export function GET() {
  return NextResponse.json({ status: 'ok' }, { status: 200 });
}
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] `/api/health`ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
- [x] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å‹•ä½œãƒ†ã‚¹ãƒˆ
- [x] å…¨ç’°å¢ƒã§ã®å‹•ä½œç¢ºèª
- [x] åŒ…æ‹¬çš„ãªçµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ12ä»¶ï¼‰ã¨E2Eãƒ†ã‚¹ãƒˆï¼ˆ12ä»¶ï¼‰å®Ÿè£…
- [x] TSDoc documentationå®Œå‚™

**0.1.2 æ—¢å­˜è¨­å®šä¿®æ­£** âœ… **å®Œäº†**

```yaml
# docker-compose.loki.ymlä¿®æ­£ï¼ˆå®Ÿè£…å®Œäº†ï¼‰
services:
  grafana:
    ports:
      - '3001:3000' # ãƒãƒ¼ãƒˆç«¶åˆå›é¿ï¼ˆ3000â†’3001ï¼‰
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] `docker-compose.loki.yml`ã®Grafanaãƒãƒ¼ãƒˆä¿®æ­£
- [x] æ—¢å­˜Lokiç’°å¢ƒã®å‹•ä½œç¢ºèª
- [x] ãƒãƒ¼ãƒˆç«¶åˆè§£æ¶ˆã®æ¤œè¨¼

**0.1.3 Playwrightè¨­å®šçµ±ä¸€** âœ… **å®Œäº†**

```typescript
// playwright.config.tsä¿®æ­£ï¼ˆè¨­å®šç¢ºèªæ¸ˆã¿ï¼‰
const BASE = process.env.PLAYWRIGHT_BASE_URL || process.env.BASE_URL || 'http://localhost:3000';
export default defineConfig({
  use: { baseURL: BASE },
  webServer: process.env.PLAYWRIGHT_SKIP_WEBSERVER
    ? undefined
    : {
        command: process.env.CI ? 'pnpm start' : 'pnpm dev',
        url: BASE,
        reuseExistingServer: !process.env.CI,
      },
});
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] Playwrightè¨­å®šã®ç’°å¢ƒå¤‰æ•°çµ±ä¸€
- [x] webServeräºŒé‡èµ·å‹•é˜²æ­¢ã‚¬ãƒ¼ãƒ‰
- [x] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã®å‹•ä½œç¢ºèª
- [x] E2Eãƒ†ã‚¹ãƒˆå…¨57ä»¶æˆåŠŸç¢ºèª

#### 0.2 æŠ€è¡“åˆ¶ç´„ç¢ºèª âœ… **å®Œäº†**

**0.2.1 Docker Composeåˆ¶ç´„ã®æ–¹é‡æ±ºå®š** âœ… **å®Œäº†**

**æ±ºå®šäº‹é …**:

- `deploy:`ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã€Composeå˜ä½“é‹ç”¨ã«æœ€é©åŒ–
- ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã¯`mem_limit`/`cpus`ã‚’ä½¿ç”¨
- ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã¯`docker compose --scale`ã§å®Ÿè¡Œ

**0.2.2 åŸºæœ¬è¨­å®šç¢ºèª** âœ… **å®Œäº†**

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] Docker ComposeåŸºæœ¬æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- [x] ç’°å¢ƒå¤‰æ•°ç®¡ç†æˆ¦ç•¥ã®ç¢ºå®š
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã®å†ç¢ºèª
- [x] åŸºæœ¬çš„ãªDocker Composeä»•æ§˜ã®å‹•ä½œç¢ºèªå®Œäº†

---

## **â­ Phase 1 æ‹¡å¼µ: OpenTelemetry Metricsé€£å‹•ï¼ˆå®Œäº†æ¸ˆã¿ï¼‰**

### Phase 1 OpenTelemetry: ãƒ¡ãƒˆãƒªã‚¯ã‚¹çµ±åˆå®Ÿè£… âœ… **å®Œäº†**

**å®Ÿè£…æ—¥**: 2025å¹´8æœˆ17æ—¥

#### 1.0.1 åŸºç›¤å®Ÿè£… âœ… **å®Œäº†**

**instrumentation.tsè¨­å®š**:

```typescript
// instrumentation.tsï¼ˆæ—¢å­˜å®Ÿè£…ï¼‰
export async function register() {
  if (process.env.NEXT_RUNTIME === 'nodejs') {
    try {
      const { initializeMetrics } = await import('./src/lib/logger/metrics');
      await initializeMetrics();

      const { initializePhase3Metrics } = await import('./src/lib/logger/enhanced-metrics');
      initializePhase3Metrics();

      console.log('âœ… Logger metrics initialized successfully');
    } catch (error) {
      console.error('âŒ Failed to initialize metrics:', error);
    }
  }
}
```

#### 1.0.2 ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†å®Ÿè£… âœ… **å®Œäº†**

**åŸºæœ¬ãƒ¡ãƒˆãƒªã‚¯ã‚¹** (`src/lib/logger/metrics.ts`):

- `log_entries_total` - ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªç·æ•°ï¼ˆãƒ¬ãƒ™ãƒ«ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ¥ï¼‰
- `error_count` - ã‚¨ãƒ©ãƒ¼å›æ•°ï¼ˆã‚¿ã‚¤ãƒ—ãƒ»é‡è¦åº¦åˆ¥ï¼‰
- `request_duration_ms` - ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†æ™‚é–“åˆ†å¸ƒ
- `memory_usage_bytes` - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ï¼ˆheap_used/heap_totalï¼‰

**æ‹¡å¼µãƒ¡ãƒˆãƒªã‚¯ã‚¹** (`src/lib/logger/enhanced-metrics.ts`):

- `config_fetch_total` - ãƒªãƒ¢ãƒ¼ãƒˆè¨­å®šå–å¾—å›æ•°
- `rate_limit_decisions` - ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ±ºå®šå›æ•°
- `kv_operations_total` - KVã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ“ä½œç·æ•°
- `admin_api_requests` - Admin APIãƒªã‚¯ã‚¨ã‚¹ãƒˆç·æ•°

#### 1.0.3 Loggerçµ±åˆ âœ… **å®Œäº†**

**Server Loggerçµ±åˆ**:

```typescript
// src/lib/logger/server.tsï¼ˆçµ±åˆæ¸ˆã¿ï¼‰
// ğŸ“Š Metrics: Log entry counter
incrementLogCounter('error', 'server');

// Extract error type from arguments for detailed error metrics
const errorType = extractErrorType(mergedArgs);
incrementErrorCounter(errorType, 'server', 'high');
```

**Client Loggerçµ±åˆ**:

```typescript
// src/lib/logger/client.tsï¼ˆçµ±åˆæ¸ˆã¿ï¼‰
// ğŸ“Š Metrics: Log entry counter (client-side)
incrementLogCounter(level, 'client');

// Error-level logs also increment error counter
if (level === 'error' || level === 'fatal') {
  const errorType = extractErrorType(processedArgs);
  const severity = level === 'fatal' ? 'critical' : 'high';
  incrementErrorCounter(errorType, 'client', severity);
}
```

#### 1.0.4 Prometheusã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ âœ… **å®Œäº†**

**ãƒ¡ãƒˆãƒªã‚¯ã‚¹å‡ºåŠ›API** (`src/app/api/metrics/route.ts`):

```typescript
// GET /api/metrics - Prometheus metrics endpoint
export const GET = withAPIRouteTracing(async (_request: NextRequest): Promise<NextResponse> => {
  // OpenTelemetry metrics initialization check
  // Prometheus format metrics available on port 9464
  // Enhanced metrics snapshot with timestamp
  return NextResponse.json(metricsInfo, { status: 200 });
});
```

#### 1.0.5 åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Ÿè£… âœ… **å®Œäº†**

**Unit Tests**: `tests/unit/logger/metrics.test.ts`

- 25ä»¶ã®ãƒ†ã‚¹ãƒˆï¼ˆå…¨ä»¶æˆåŠŸï¼‰
- åˆæœŸåŒ–ã€é–¢æ•°å‹•ä½œã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€Edge caseå¯¾å¿œ

**Enhanced Metrics Tests**: `tests/unit/logger/enhanced-metrics.test.ts`

- Phase 3æ‹¡å¼µãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ãƒ†ã‚¹ãƒˆ

**E2E Tests**: `tests/e2e/metrics.spec.ts`

- 21ä»¶ã®E2Eãƒ†ã‚¹ãƒˆï¼ˆå…¨ä»¶æˆåŠŸï¼‰
- Chromiumã€Firefoxã€Mobile Chromeå¯¾å¿œ
- ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‹•ä½œã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ä¸¦è¡Œãƒªã‚¯ã‚¨ã‚¹ãƒˆå¯¾å¿œ

#### 1.0.6 å“è³ªæ¤œè¨¼ âœ… **å®Œäº†**

**TypeScript**: ã‚¨ãƒ©ãƒ¼0ä»¶
**ESLint**: è­¦å‘Šãƒ»ã‚¨ãƒ©ãƒ¼0ä»¶
**ãƒ†ã‚¹ãƒˆæˆåŠŸç‡**: 100%ï¼ˆ46ä»¶æˆåŠŸï¼‰
**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰æœ€å°é™

**é‹ç”¨æº–å‚™å®Œäº†**:

- Prometheusãƒ¡ãƒˆãƒªã‚¯ã‚¹å‡ºåŠ›ï¼ˆãƒãƒ¼ãƒˆ9464ï¼‰
- `/api/metrics`ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¨¼åƒ
- è‡ªå‹•ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ï¼ˆãƒ­ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰
- Grafanaãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é€£æºæº–å‚™å®Œäº†

---

### Phase 2: DockeråŸºç›¤æ§‹ç¯‰ï¼ˆWeek 2-3ï¼‰ âœ… **å®Œäº†**

#### 2.1 Dockerfilesä½œæˆ âœ… **å®Œäº†**

**2.1.1 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨Dockerfile** âœ… **å®Œäº†**

```dockerfile
# docker/app/Dockerfile
# Multi-stage build: base, development, test, production
```

**2.1.2 é–‹ç™ºç”¨Dockerfile** âœ… **å®Œäº†**

```dockerfile
# docker/app/Dockerfile.dev
# Hot reloadå¯¾å¿œã€ãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒˆé–‹æ”¾
# CI=true ã§éå¯¾è©±ãƒ¢ãƒ¼ãƒ‰è¨­å®š
```

**2.1.3 Nginxç”¨Dockerfile** âœ… **å®Œäº†**

```dockerfile
# docker/nginx/Dockerfile
# ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·è¨­å®š
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] `docker/app/Dockerfile`
- [x] `docker/app/Dockerfile.dev`
- [x] `docker/app/.dockerignore`
- [x] `docker/nginx/Dockerfile`
- [x] `docker/nginx/nginx.conf`

#### 2.2 ãƒ™ãƒ¼ã‚¹Composeè¨­å®š âœ… **å®Œäº†**

**2.2.1 ãƒ¡ã‚¤ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«** âœ… **å®Œäº†**

```yaml
# docker-compose.ymlï¼ˆå®Ÿè£…å®Œäº†ï¼‰
# ã‚·ãƒ³ãƒ—ãƒ«ãªDocker Composeè¨­å®š
# - Compose Specificationï¼ˆæœ€æ–°v2å½¢å¼ï¼‰
# - 2ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆï¼ˆapp, proxyï¼‰
# - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯çµ±åˆ
# - ãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒˆé–‹æ”¾
# - ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å¯¾å¿œ
```

**2.2.2 é–‹ç™ºç’°å¢ƒã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰** âœ… **å®Œäº†**

```yaml
# docker-compose.override.ymlï¼ˆå®Ÿè£…å®Œäº†ï¼‰
# é–‹ç™ºç’°å¢ƒæœ€é©åŒ–è¨­å®š
# - ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒˆå¯¾å¿œ
# - ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒã‚¦ãƒ³ãƒˆã§ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‰ç·¨é›†
# - ãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒˆå…¬é–‹ï¼ˆ9229ï¼‰
# - é–‹ç™ºç”¨ç’°å¢ƒå¤‰æ•°è¨­å®š
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] `docker-compose.yml`ï¼ˆã‚¢ãƒ—ãƒª + ãƒ—ãƒ­ã‚­ã‚·æ§‹æˆï¼‰
- [x] `docker-compose.override.yml`ï¼ˆé–‹ç™ºç’°å¢ƒï¼‰
- [x] `.env.example`ï¼ˆåŸºæœ¬çš„ãªç’°å¢ƒå¤‰æ•°è¨­å®šï¼‰
- [x] `docker/README.md`ï¼ˆä½¿ç”¨æ–¹æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰

**2.2.3 æŠ€è¡“çš„æˆæœ**

- âœ… Docker Compose v2ä»•æ§˜æº–æ‹ ï¼ˆæœ€æ–°ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼‰
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆï¼ˆérootãƒ¦ãƒ¼ã‚¶ãƒ¼å®Ÿè¡Œï¼‰
- âœ… ã‚·ãƒ³ãƒ—ãƒ«ãª2ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆï¼ˆapp + proxyï¼‰
- âœ… ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯çµ±åˆï¼ˆ`/api/health`ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ´»ç”¨ï¼‰
- âœ… åŸºæœ¬çš„ãªç’°å¢ƒå¤‰æ•°ç®¡ç†
- âœ… é–‹ç™ºä½“é¨“æœ€é©åŒ–ï¼ˆHMRã€ãƒ‡ãƒãƒƒã‚°ã€ãƒ©ã‚¤ãƒ–ç·¨é›†ï¼‰
- âœ… å®Ÿéš›ã®å‹•ä½œç¢ºèªæ¸ˆã¿ï¼ˆdocker compose upæˆåŠŸï¼‰

#### 2.3 é–‹ç™ºç’°å¢ƒå‹•ä½œç¢ºèª âœ… **å®Œäº†**

**2.3.1 åŸºæœ¬å‹•ä½œãƒ†ã‚¹ãƒˆ** âœ… **å®Œäº†**

```bash
# èµ·å‹•ãƒ†ã‚¹ãƒˆ
docker compose up -d
curl http://localhost:3000

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ç¢ºèª
curl http://localhost:3000/api/health

# ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª
curl http://localhost:8080
```

**2.3.2 é–‹ç™ºä½“é¨“ç¢ºèª** âœ… **å®Œäº†**

- [x] ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å‹•ä½œ
- [x] CI=true ã«ã‚ˆã‚‹éå¯¾è©±ãƒ¢ãƒ¼ãƒ‰ãƒ“ãƒ«ãƒ‰
- [x] ãƒ‡ãƒãƒƒã‚°ãƒãƒ¼ãƒˆé–‹æ”¾ï¼ˆ9229ï¼‰
- [x] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯çµ±åˆ

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] Docker Composeå‹•ä½œç¢ºèªæ¸ˆã¿
- [x] å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ãƒ»ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆå®Œäº†
- [x] åŸºæœ¬çš„ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¯¾å¿œæ¸ˆã¿

### Phase 3: ãƒ†ã‚¹ãƒˆç’°å¢ƒçµ±åˆï¼ˆWeek 3-4ï¼‰ âœ… **å®Œäº†**

#### 3.1 ãƒ†ã‚¹ãƒˆç”¨Composeè¨­å®š âœ… **å®Œäº†**

**3.1.1 ãƒ†ã‚¹ãƒˆç’°å¢ƒè¨­å®š** âœ… **å®Œäº†**

```yaml
# docker-compose.test.ymlï¼ˆå®Ÿè£…å®Œäº†ï¼‰
# å®Œå…¨ãªãƒ†ã‚¹ãƒˆç’°å¢ƒçµ±åˆ
# - Unit Tests (Vitest)
# - Integration Tests (Testcontainerså¯¾å¿œ)
# - E2E Tests (Playwright)
# - å…¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã®ã‚³ãƒ³ãƒ†ãƒŠåŒ–
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] `docker-compose.test.yml`
- [x] `.env.test`
- [x] `docker/app/Dockerfile.test`ï¼ˆè»½é‡ãƒ†ã‚¹ãƒˆç”¨Dockerfileï¼‰
- [x] `playwright.docker.config.ts`ï¼ˆDockerå°‚ç”¨è¨­å®šï¼‰

#### 3.2 Unit Testsçµ±åˆ âœ… **å®Œäº†**

**3.2.1 Vitestã‚³ãƒ³ãƒ†ãƒŠåŒ–** âœ… **å®Œäº†**

```bash
# Unit testså®Ÿè¡Œï¼ˆå®Ÿè£…å®Œäº†ï¼‰
docker compose -f docker-compose.test.yml run --rm app-test pnpm test:unit

# Coverageç”Ÿæˆï¼ˆå®Ÿè£…å®Œäº†ï¼‰
docker compose -f docker-compose.test.yml run --rm app-test pnpm test:coverage
```

**3.2.2 ãƒ†ã‚¹ãƒˆç’°å¢ƒæœ€é©åŒ–** âœ… **å®Œäº†**

- [x] ä¸¦åˆ—å®Ÿè¡Œè¨­å®š
- [x] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç®¡ç†
- [x] Dockerã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–
- [x] è»½é‡Dockerfileä½œæˆ

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] Unit Tests 100%ãƒ‘ã‚¹ï¼ˆ551ä»¶ã®ãƒ†ã‚¹ãƒˆæˆåŠŸç¢ºèªï¼‰
- [x] Dockerç’°å¢ƒã§ã®å®Ÿè¡Œè¨­å®šå®Œäº†

#### 3.3 Integration Testsçµ±åˆ âœ… **å®Œäº†**

**3.3.1 æ—¢å­˜Testcontainerså¯¾å¿œ** âœ… **å®Œäº†**

```yaml
# Loki testcontainerè¨­å®šä¿æŒï¼ˆå®Ÿè£…å®Œäº†ï¼‰
# æ—¢å­˜ã® tests/setup/loki-testcontainer-setup.ts ã‚’æ´»ç”¨
# Docker-in-Dockerç’°å¢ƒã§ã®Testcontainerså®Ÿè¡Œå¯¾å¿œ
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] Integration Tests åŸºæœ¬å‹•ä½œç¢ºèªï¼ˆ194ä»¶ä¸­192ä»¶æˆåŠŸï¼‰
- [x] Lokiçµ±åˆãƒ†ã‚¹ãƒˆç¶™ç¶šå‹•ä½œ
- [x] Dockerç’°å¢ƒã§ã®Testcontainerså®Ÿè¡Œè¨­å®š
- [x] `docker/testcontainers/README.md`ä½œæˆ

#### 3.4 E2E Testsçµ±åˆ âœ… **å®Œäº†**

**3.4.1 Playwrightç’°å¢ƒ** âœ… **å®Œäº†**

```bash
# E2E testså®Ÿè¡Œï¼ˆå®Ÿè£…å®Œäº†ï¼‰
docker compose -f docker-compose.test.yml run --rm playwright

# Dockerå°‚ç”¨è¨­å®šã§ã®å®Ÿè¡Œ
docker compose -f docker-compose.test.yml run --rm playwright \
  npx playwright test --config=playwright.docker.config.ts
```

**3.4.2 ãƒ†ã‚¹ãƒˆç’°å¢ƒæº–å‚™** âœ… **å®Œäº†**

- [x] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•å¾…æ©Ÿ
- [x] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ»å‹•ç”»ä¿å­˜
- [x] Dockerç’°å¢ƒå°‚ç”¨è¨­å®š

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] E2E Tests 100%ãƒ‘ã‚¹ï¼ˆ114ä»¶ã®ãƒ†ã‚¹ãƒˆæˆåŠŸç¢ºèªï¼‰
- [x] Dockerç’°å¢ƒã§ã®å®Ÿè¡Œè¨­å®šå®Œäº†
- [x] `playwright.docker.config.ts`ä½œæˆ
- [x] ãƒ†ã‚¹ãƒˆæˆæœç‰©ã®ä¿å­˜è¨­å®š

#### 3.5 CI/CDçµ±åˆ âœ… **å®Œäº†**

**3.5.1 GitHub Actionsæ›´æ–°** âœ… **å®Œäº†**

```yaml
# .github/workflows/docker-tests.ymlï¼ˆå®Ÿè£…å®Œäº†ï¼‰
# åŒ…æ‹¬çš„ãªDockeråŒ–ãƒ†ã‚¹ãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
# - Docker Unit Tests
# - Docker Integration Tests
# - Docker E2E Tests
# - Docker Quality Gate
```

**æˆæœç‰©** âœ… **å®Œäº†**:

- [x] `.github/workflows/docker-tests.yml`ä½œæˆ
- [x] DockeråŒ–ã•ã‚ŒãŸCI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè£…
- [x] å…¨ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã®ä¸¦åˆ—å®Ÿè¡Œå¯¾å¿œ
- [x] å“è³ªã‚²ãƒ¼ãƒˆçµ±åˆ

### Phase 4: æœ¬ç•ªç’°å¢ƒå¯¾å¿œï¼ˆWeek 5-6ï¼‰

#### 4.1 æœ¬ç•ªç”¨Composeè¨­å®š

**4.1.1 æœ¬ç•ªç’°å¢ƒè¨­å®š**

```yaml
# docker-compose.prod.yml
services:
  app:
    build:
      context: .
      dockerfile: docker/app/Dockerfile
      target: production
    restart: unless-stopped
    healthcheck:
      test: ['CMD', 'curl', '-f', 'http://localhost:3000/api/health']
    environment:
      - NODE_ENV=production
```

**æˆæœç‰©**:

- [ ] `docker-compose.prod.yml`
- [ ] `.env.prod.example`
- [ ] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å®Ÿè£…

#### 4.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

**4.2.1 åŸºæœ¬ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š**

```yaml
# érootãƒ¦ãƒ¼ã‚¶ãƒ¼å®Ÿè¡Œ
# ã‚»ã‚­ãƒ¥ã‚¢ãªç’°å¢ƒå¤‰æ•°ç®¡ç†
# æœ€å°æ¨©é™ã®åŸå‰‡
```

**4.2.2 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š**

```yaml
networks:
  default:
    name: nextjs-app-network
```

**æˆæœç‰©**:

- [ ] ç’°å¢ƒå¤‰æ•°ç®¡ç†è¨­å®š
- [ ] åŸºæœ¬çš„ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ãƒ¬ãƒãƒ¼ãƒˆ

#### 4.3 ç›£è¦–ãƒ»ãƒ­ã‚°çµ±åˆ

**4.3.1 æ—¢å­˜Lokiè¨­å®šçµ±åˆ**

```yaml
# docker-compose.prod.yml
# æ—¢å­˜ã®docker-compose.loki.ymlã¨é€£æº
```

**4.3.2 OpenTelemetryãƒ¡ãƒˆãƒªã‚¯ã‚¹æ´»ç”¨**

```yaml
# æ—¢å­˜ã®OpenTelemetryãƒ¡ãƒˆãƒªã‚¯ã‚¹çµ±åˆã‚’æ´»ç”¨
# /api/metrics ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
# /api/health ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
```

**æˆæœç‰©**:

- [ ] Lokiçµ±åˆå®Œäº†
- [ ] OpenTelemetryãƒ¡ãƒˆãƒªã‚¯ã‚¹æ´»ç”¨
- [ ] åŸºæœ¬ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯è¨­å®š

### Phase 5: æœ€é©åŒ–ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ï¼ˆWeek 7ï¼‰

#### 5.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

**5.1.1 ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–**

- Docker layer caching
- Multi-stage buildæœ€é©åŒ–
- ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºå‰Šæ¸›

**5.1.2 èµ·å‹•æ™‚é–“æœ€é©åŒ–**

- ä¾å­˜é–¢ä¿‚æœ€é©åŒ–
- ä¸¦åˆ—èµ·å‹•è¨­å®š
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯èª¿æ•´

**æˆæœç‰©**:

- [ ] ãƒ“ãƒ«ãƒ‰æ™‚é–“ < 5åˆ†
- [ ] èµ·å‹•æ™‚é–“ < 30ç§’
- [ ] ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚º < 500MB

#### 5.2 é–‹ç™ºè€…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

**5.2.1 READMEæ›´æ–°**

````markdown
## Docker Composeä½¿ç”¨æ–¹æ³•

### é–‹ç™ºç’°å¢ƒ

```bash
docker compose up
```
````

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
docker compose -f docker-compose.test.yml run --rm app-test pnpm test
```

````

**5.2.2 ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰**
- ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´æ–¹æ³•
- ãƒ‡ãƒãƒƒã‚°æ‰‹é †

**æˆæœç‰©**:
- [ ] README.mdæ›´æ–°
- [ ] ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰
- [ ] é–‹ç™ºè€…å‘ã‘FAQ

## 3. ãƒªã‚¹ã‚¯ç®¡ç†

### 3.1 é«˜ãƒªã‚¹ã‚¯é …ç›®

**3.1.1 æ—¢å­˜ãƒ†ã‚¹ãƒˆäº’æ›æ€§**
- **ãƒªã‚¹ã‚¯**: æ—¢å­˜ãƒ†ã‚¹ãƒˆãŒå‹•ä½œã—ãªã„
- **å¯¾ç­–**: æ®µéšçš„ç§»è¡Œã€ä¸¦è¡Œé‹ç”¨æœŸé–“è¨­å®š
- **æ¤œè¨¼**: å„ãƒ•ã‚§ãƒ¼ã‚ºã§ã®å®Œå…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

**3.1.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–**
- **ãƒªã‚¹ã‚¯**: DockeråŒ–ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹
- **å¯¾ç­–**: ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯æ¸¬å®šã€æœ€é©åŒ–ãƒ•ã‚§ãƒ¼ã‚ºå®Ÿæ–½
- **æ¤œè¨¼**: å®šé‡çš„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ

### 3.2 ä¸­ãƒªã‚¹ã‚¯é …ç›®

**3.2.1 é–‹ç™ºä½“é¨“ã®å¤‰åŒ–**
- **ãƒªã‚¹ã‚¯**: é–‹ç™ºåŠ¹ç‡ã®ä½ä¸‹
- **å¯¾ç­–**: ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ä¿æŒã€èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆæä¾›
- **æ¤œè¨¼**: é–‹ç™ºè€…ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†

**3.2.2 è¤‡é›‘æ€§ã®å¢—åŠ **
- **ãƒªã‚¹ã‚¯**: è¨­å®šç®¡ç†ã®è¤‡é›‘åŒ–
- **å¯¾ç­–**: æ˜ç¢ºãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã€è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- **æ¤œè¨¼**: æ–°è¦ãƒ¡ãƒ³ãƒãƒ¼ã§ã®ç’°å¢ƒæ§‹ç¯‰ãƒ†ã‚¹ãƒˆ

## 4. å“è³ªä¿è¨¼

### 4.1 ãƒ†ã‚¹ãƒˆåŸºæº–

**4.1.1 æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ**
- [ ] Unit Tests: 100%ãƒ‘ã‚¹
- [ ] Integration Tests: 100%ãƒ‘ã‚¹
- [ ] E2E Tests: 100%ãƒ‘ã‚¹
- [ ] Lokiçµ±åˆãƒ†ã‚¹ãƒˆ: 100%ãƒ‘ã‚¹

**4.1.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**
- [ ] ãƒ“ãƒ«ãƒ‰æ™‚é–“: < 5åˆ†
- [ ] èµ·å‹•æ™‚é–“: < 30ç§’
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“: < ç¾åœ¨ã®150%
- [ ] ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: < 1GB

**4.1.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ**
- [ ] ç’°å¢ƒå¤‰æ•°æ¼æ´©ãƒã‚§ãƒƒã‚¯
- [ ] ã‚³ãƒ³ãƒ†ãƒŠã‚¹ã‚­ãƒ£ãƒ³
- [ ] åŸºæœ¬çš„ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šç¢ºèª
- [ ] æ¨©é™è¨­å®šç¢ºèª

### 4.2 ç¶™ç¶šçš„ç›£è¦–

**4.2.1 ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**
- ã‚³ãƒ³ãƒ†ãƒŠãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ¼ãƒˆ
- ãƒ­ã‚°å‡ºåŠ›é‡

**4.2.2 ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š**
- é«˜CPU/ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡
- ã‚³ãƒ³ãƒ†ãƒŠç•°å¸¸çµ‚äº†
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯å¤±æ•—
- ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ä¸è¶³

## 5. ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»

### 5.1 ç·Šæ€¥æ™‚å¯¾å¿œ

**5.1.1 å³åº§ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**
```bash
# æ—¢å­˜ç’°å¢ƒã«æˆ»ã™
git checkout main
pnpm install
pnpm dev
````

**5.1.2 æ®µéšçš„å¾©æ—§**

1. Dockerç’°å¢ƒåœæ­¢
2. æ—¢å­˜ç’°å¢ƒã§ã®å‹•ä½œç¢ºèª
3. å•é¡Œã®ç‰¹å®šãƒ»ä¿®æ­£
4. æ®µéšçš„Dockerç’°å¢ƒå¾©æ—§

### 5.2 ãƒ‡ãƒ¼ã‚¿ä¿è­·

**5.2.1 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥**

- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
- ç’°å¢ƒå¤‰æ•°ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

## 6. æˆåŠŸæŒ‡æ¨™ã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### 6.1 Phaseåˆ¥æˆåŠŸæŒ‡æ¨™

**Phase 0**: å‰ææ¡ä»¶æ•´å‚™ âœ… **å®Œäº†**

- [x] `/api/health`ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆ
- [x] Grafanaãƒãƒ¼ãƒˆç«¶åˆè§£æ¶ˆ
- [x] Playwrightè¨­å®šçµ±ä¸€
- [x] Docker SecretsæŠ€è¡“æ¤œè¨¼

**Phase 1 (OpenTelemetry)**: ãƒ¡ãƒˆãƒªã‚¯ã‚¹é€£å‹• âœ… **å®Œäº†**

- [x] OpenTelemetry MetricsåˆæœŸåŒ–
- [x] Prometheusã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
- [x] Loggerçµ±åˆï¼ˆserver/clientï¼‰
- [x] åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Ÿè£…ï¼ˆ46ä»¶æˆåŠŸï¼‰

**Phase 2**: DockeråŸºç›¤æ§‹ç¯‰ âœ… **å®Œäº†**

- [x] Docker Compose upæˆåŠŸ
- [x] ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å‹•ä½œ
- [x] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯çµ±åˆ
- [x] å®Ÿéš›ã®ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ç¢ºèª

**Phase 3**: ãƒ†ã‚¹ãƒˆç’°å¢ƒçµ±åˆ âœ… **å®Œäº†**

- [x] å…¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆãƒ‘ã‚¹ï¼ˆUnit: 551ä»¶, E2E: 114ä»¶, Integration: 192/194ä»¶ï¼‰
- [x] CI/CDçµ±åˆå®Œäº†ï¼ˆdocker-tests.ymlãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè£…ï¼‰
- [x] DockeråŒ–ãƒ†ã‚¹ãƒˆç’°å¢ƒæ§‹ç¯‰å®Œäº†

**Phase 4**: æœ¬ç•ªç’°å¢ƒå¯¾å¿œ

- [ ] æœ¬ç•ªç’°å¢ƒè¨­å®šå®Œäº†
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶é”æˆ
- [ ] ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ

**Phase 5**: æœ€é©åŒ–ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–

- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œæˆ
- [ ] ãƒãƒ¼ãƒ å—ã‘å…¥ã‚Œå®Œäº†

### 6.2 æœ€çµ‚æˆåŠŸæŒ‡æ¨™

**æŠ€è¡“æŒ‡æ¨™**:

- [ ] å…¨ãƒ†ã‚¹ãƒˆ 100%ãƒ‘ã‚¹
- [ ] ãƒ“ãƒ«ãƒ‰æ™‚é–“ < 5åˆ†
- [ ] èµ·å‹•æ™‚é–“ < 30ç§’
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ ãƒ‘ã‚¹

**ä½“é¨“æŒ‡æ¨™**:

- [ ] é–‹ç™ºè€…æº€è¶³åº¦ > 80%
- [ ] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚é–“ < 10åˆ†
- [ ] ãƒˆãƒ©ãƒ–ãƒ«ç™ºç”Ÿç‡ < 5%
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå…¨æ€§ 100%

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

1. **Phase 3é–‹å§‹**: ãƒ†ã‚¹ãƒˆç’°å¢ƒçµ±åˆã‹ã‚‰ç€æ‰‹
2. **DockeråŒ–ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: æ—¢å­˜ã®Unit/E2Eãƒ†ã‚¹ãƒˆã®ã‚³ãƒ³ãƒ†ãƒŠåŒ–
3. **CI/CDçµ±åˆ**: GitHub Actionsã§ã®ã‚³ãƒ³ãƒ†ãƒŠåŒ–ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
4. **å“è³ªåŸºæº–ç¶­æŒ**: ãƒ†ã‚¹ãƒˆè¦ä»¶ã®ç¶™ç¶šçš„ç¢ºèª
