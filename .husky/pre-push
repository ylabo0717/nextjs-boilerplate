#!/bin/sh

echo "ğŸ” Running secret scan before push..."
gitleaks detect --config .gitleaks.toml --log-level=error

if [ $? -ne 0 ]; then
  echo "âŒ Secrets detected! Push aborted."
  echo "ğŸ’¡ Run 'gitleaks detect --verbose' for details"
  exit 1
fi

echo "âœ… No secrets detected"